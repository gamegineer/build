<?xml version="1.0" encoding="UTF-8"?>
<project name="cc-build" default="build" basedir="checkout">

    <property environment="env" />

    <path id="svn.classpath">
        <pathelement location="${env.SVNANT_HOME}/lib/svnjavahl.jar" />
        <pathelement location="${env.SVNANT_HOME}/lib/svnant.jar" />
        <pathelement location="${env.SVNANT_HOME}/lib/svnClientAdapter.jar" />
    </path>

    <taskdef resource="svntask.properties" classpathref="svn.classpath" />

    <target name="clean" description="Removes the content of the base build directory without removing the directory itself.">
        <echo level="info">Deleting build directory...</echo>
        <delete includeEmptyDirs="true">
            <fileset dir="." includes="**/*" excludes=".svn" defaultexcludes="no" />
        </delete>
    </target>

    <target name="build" depends="clean">
        <!-- Checkout the latest sources -->
        <svn>
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/net.jcip.annotations/trunk" revision="HEAD" destPath="net.jcip.annotations" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.builder/trunk" revision="HEAD" destPath="org.gamegineer.builder" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.common.feature.base/trunk" revision="HEAD" destPath="org.gamegineer.builder/features/org.gamegineer.common.feature.base" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.common.feature.tests/trunk" revision="HEAD" destPath="org.gamegineer.builder/features/org.gamegineer.common.feature.tests" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.common.core/trunk" revision="HEAD" destPath="org.gamegineer.builder/plugins/org.gamegineer.common.core" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.common.core.tests/trunk" revision="HEAD" destPath="org.gamegineer.builder/plugins/org.gamegineer.common.core.tests" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.engine.feature.base/trunk" revision="HEAD" destPath="org.gamegineer.builder/features/org.gamegineer.engine.feature.base" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.engine.feature.tests/trunk" revision="HEAD" destPath="org.gamegineer.builder/features/org.gamegineer.engine.feature.tests" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.engine.core/trunk" revision="HEAD" destPath="org.gamegineer.builder/plugins/org.gamegineer.engine.core" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.engine.core.tests/trunk" revision="HEAD" destPath="org.gamegineer.builder/plugins/org.gamegineer.engine.core.tests" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.test.feature.base/trunk" revision="HEAD" destPath="org.gamegineer.builder/features/org.gamegineer.test.feature.base" />
            <checkout url="http://gamegineer.svn.sourceforge.net/svnroot/gamegineer/dev/org.gamegineer.test.core/trunk" revision="HEAD" destPath="org.gamegineer.builder/plugins/org.gamegineer.test.core" />
        </svn>

        <!-- Call the target that does everything -->
        <ant antfile="build.xml" dir="org.gamegineer.builder" target="build" />
    </target>

</project>
